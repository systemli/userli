<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{{ domain }} - {% block subtitle %}{{ "index.title"|trans }}{% endblock %}{% endblock %}</title>

    {% block head_style %}
        <link rel="stylesheet" href="{{ asset('build/app.css') }}">
    {% endblock %}

    {% block head_script %}
        <script src="{{ asset('build/app.js') }}"></script>
    {% endblock %}
</head>
<body>
    {% block navbar %}
        <nav class="bg-gray-800 border-gray-800 border-b">
            <div class="max-w-7xl mx-auto px-4">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center">
                        {% block brand %}
                            <a class="text-white font-bold text-lg hover:text-gray-300" href="{{ project_url }}" target="_self">{{ project_name }}</a>
                        {% endblock %}
                    </div>

                    <div class="flex items-center space-x-4">
                        {% block menu %}
                            {% if not app.user %}
                                <a href="{{ path('login') }}" class="text-white hover:text-gray-300 px-3 py-2 rounded-md text-sm font-medium">
                                    {{ "navbar_right.login"|trans }}
                                </a>
                            {% else %}
                                {% if is_granted('ROLE_ADMIN') %}
                                    <a href="{{ path('sonata_admin_dashboard') }}" class="text-white hover:text-gray-300 px-3 py-2 rounded-md text-sm font-medium">
                                        {{ "navbar_right.admin"|trans }}
                                    </a>
                                {% endif %}
                                <a href="{{ path('logout') }}" class="text-white hover:text-gray-300 px-3 py-2 rounded-md text-sm font-medium">
                                    {{ "navbar_right.logout"|trans }}
                                </a>
                            {% endif %}
                            {% include '_locale_switcher.html.twig' %}
                        {% endblock %}
                    </div>
                </div>
            </div>
        </nav>
    {% endblock %}

    {% block container %}
        <div class="max-w-7xl mx-auto px-4 py-6">
            {% block flashes %}
                {% if app.session.flashbag.peekAll|length > 0 %}
                    <div class="mb-4">
                        {% for type, messages in app.session.flashbag.all %}
                            {% for message in messages %}
                                <div class="alert p-4 mb-3 rounded-lg {% if type == 'error' %}bg-red-100 border border-red-400 text-red-700{% elseif type == 'success' %}bg-green-100 border border-green-400 text-green-700{% elseif type == 'info' %}bg-blue-100 border border-blue-400 text-blue-700{% elseif type == 'warning' %}bg-yellow-100 border border-yellow-400 text-yellow-700{% else %}bg-gray-100 border border-gray-400 text-gray-700{% endif %}">
                                    {{ message|trans|raw }}
                                </div>
                            {% endfor %}
                        {% endfor %}
                    </div>
                {% endif %}
            {% endblock flashes %}

            {% block content %}
                {# Header section with standardized title and subtitle structure #}
                <div class="mb-8 sm:mb-12">
                    <div class="text-center">
                        {% block page_title %}
                            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">
                                {{ block('subtitle')|raw }}
                            </h1>
                        {% endblock %}

                        {% block page_subtitle %}
                            {# Optional subtitle block that child templates can override #}
                        {% endblock %}
                    </div>
                </div>

                {% block page_content %}
                    {# Main content goes here #}
                {% endblock %}
            {% endblock content %}

        </div>
    {% endblock %}

    {% block foot_script %}
    {% endblock foot_script %}
</body>
</html>
